<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MGames - Games List</title>
    <link rel="stylesheet" href="../src/style.css" />
    <style>
      body {
        min-height: 100vh;
        margin: 0;
        padding: 20px;
        font-family: Arial, sans-serif;
      }

      .games-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .game-card {
        background: rgba(255, 255, 255, 0.544);
        border-top: 1px solid rgba(240, 248, 255, 0.4);
        border-left: 1px solid rgba(240, 248, 255, 0.3);
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
        text-align: center;
      }

      .game-card:hover {
        transform: translateY(-5px);
      }

      .game-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 8px;
        background: #f0f0f0;
      }

      .game-card h3 {
        margin: 15px 0 10px;
        color: #333;
      }

      .game-card p {
        color: #d6d3d3;
        font-size: 14px;
        line-height: 1.5;
        margin-bottom: 15px;
      }

      .game-card button {
        background: linear-gradient(135deg, #156a84 0%, #13899b 100%);
        color: aliceblue;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        transition: opacity 0.3s;
      }

      .game-card button:hover {
        opacity: 0.9;
        background: linear-gradient(135deg, #2588a6 0%, #34a9ba 100%);
      }
    </style>
  </head>
  <body>
    <div class="games-container">
      <div class="game-card">
        <img src="../public/Sonicpic.png" alt="Platform Game" />
        <h3>سونيك</h3>
        <p>
          لعبة سونيك ممتعة تتطلب مهارة وتركيز. تحكم بالشخصية وتجاوز العقبات كلما
          زادت السرعه.
        </p>
        <button id="btnPlatform">العب</button>
      </div>
      <div class="game-card">
        <img src="../public/Master.png" alt="metro Game" />
        <h3>زعيم ميترو</h3>
        <p>
          لعبة بلاتفورم تتطلب قتل الاعداء واكمال المهام . تحكم بالشخصية واقتل
          العقبات كلما زادت الصعوبه.
        </p>
        <button id="btnmetrodivaniaMaster">العب</button>
      </div>

      <div class="game-card">
        <img src="../public/Dragon.png" alt="interactive dragon" />
        <h3>دراجون سلايدر</h3>
        <p>لعبه لتطبيق مفهوم الاحداث في جافا سكريبت</p>
        <button id="btnDragon">العب</button>
      </div>

      <div class="game-card">
        <img
          src="pacman.png"
          alt="Pac Man Master"
        />
        <h3>باك مان</h3>
        <p>
          ساعد باك مان في أكل النقاط والهروب من الأشباح في المتاهة الكلاسيكية!
        </p>
        <button id="btnpacman">العب</button>
      </div>

      <div class="game-card">
        <img
          src="samurai.png"
          alt="Samurai fight"
        />
        <h3>قتال ساموراي</h3>
   <p>
    انغمس في عالم القوة! اختبر مهاراتك في القتال السريع، واجه خصومك بسيوف الكاتانا، وكن الساموراي الأخير الصامد.
  </p>
        <button id="btnfighting">العب</button>
      </div>

            <div class="game-card">
        <img
          src="towerdefens.png"
          alt="Tower Defense"
        />
        <h3>الدفاع عن القلعه</h3>
  <p>
    لعبة استراتيجية مثيرة! ابنِ أبراجك الدفاعية، خطط لمسار أعدائك، واحمِ قلعتك من الهجمات المتتالية.
  </p>
        <button id="btntower">العب</button>
      </div>
       <div class="game-card">
        <img
          src="sunnyland.png"
          alt="Samurai fight"
        />
        <h3>ماريو</h3>
        <p>
    انطلق في مغامرة كلاسيكية! اقفز فوق العقبات، اجمع الكنوز، واستكشف العوالم الملونة في هذه اللعبة الممتعة.
    </p>
        <button id="btnsouunyland">العب</button>
      </div>
 <div class="game-card">
        <img src="image.png" style="width: 100%;height: 200px;object-fit: cover;" alt="fish Game" />
        <h3>لعبة الاسماك</h3>
        <p>
          استمتع بمغامرة تحت البحار،تحكم بالسمكه 
          وتجنب الإصطدام بالعقبات  لجمع اكبر قدر من النقاط
        </p>
        <button id="btnfishgame">العب</button>
      </div>
<div class="game-card">
        <img src="image.png" style="width: 100%;height: 200px;object-fit: cover;" alt="PatientSymptom Game" />
        <h3> PatientSymptom لعبة</h3>
        <p>
لعبة محاكاة غرفة الطوارى لاستقبال الحالات المرضية المفاجئة
        </p>
        <button id="btnPatientSymptom">العب</button>
      </div>
      <div class="game-card">
        <img src="Billionare.png" style="width: 100%;height: 200px;object-fit: cover;" alt="Billionare Game" />
        <h3> لعبة من سيربح المليون</h3>
        <p>
اختبر معلوماتك في اقسام تقنية المعلومات المتنوعة 
مع سلسلة مكونة من اكثر من 500 سؤال مختلف
        </p>
        <button id="btnBillionare">العب</button>
      </div>
          </div>
     
    </div>

    <script type="module">
      import { openGame } from "../src/router.js";

      // Add debug logs
      console.log("Games.html script running");
      console.log("Parent:", window.parent);
      console.log(
        "Parent loadPage exists:",
        window.parent && window.parent.loadPage,
      );

      // Add event listeners when page loads
      document.addEventListener("DOMContentLoaded", () => {
        console.log("Games.html DOM loaded");

        const btnPlatform = document.getElementById("btnPlatform");
        const btnmetrodivaniaMaster = document.getElementById(
          "btnmetrodivaniaMaster",
        );
        const btnPuzzle = document.getElementById("btnDragon");
        const btnPacman = document.getElementById("btnpacman");
        const btnfighting = document.getElementById("btnfighting");
        const btntower = document.getElementById("btntower");
        const btnsouny = document.getElementById("btnsouunyland");
        const btnfish = document.getElementById("btnfishgame");
        const btnPatientSymptom = document.getElementById("btnPatientSymptom");
        const btnBillionare = document.getElementById("btnBillionare");

        

        if (btnPlatform) {
          btnPlatform.addEventListener("click", () => {
            console.log("Platform button clicked");
            openGame("platform");
          });
        }
        if (btnmetrodivaniaMaster) {
          btnmetrodivaniaMaster.addEventListener("click", () => {
            console.log("metrodivaniaMaster button clicked");
            openGame("metrodivaniaMaster");
          });
        }

        if (btnDragon) {
          btnDragon.addEventListener("click", () => {
            console.log("Puzzle button clicked");
            openGame("interactive dragon");
          });
        }

        if (btnPacman) {
          btnPacman.addEventListener("click", () => {
            console.log("btnpacman button clicked");
            openGame("pacman");
          });
        }

        if (btnfighting) {
          btnfighting.addEventListener("click", () => {
            console.log("Card button clicked");
            openGame("Fighting game");
          });
        }
        if (btntower) {
          btntower.addEventListener("click", () => {
            console.log("Card button clicked");
            openGame("tower defense");
          });
        }
           if (btnsouny) {
          btnsouny.addEventListener("click", () => {
            console.log("Card button clicked");
            openGame("sounnyland");
          });
        }
    if (btnfish) {
          btnfish.addEventListener("click", () => {
            console.log("Card button clicked");
            openGame("fishgame");
          });
        }
         if (btnPatientSymptom) {
          btnPatientSymptom.addEventListener("click", () => {
            console.log("Card button clicked");
            openGame("PatientSymptom");
          });
        }
        if (btnBillionare) {
          btnBillionare.addEventListener("click", () => {
            console.log("Card button clicked");
            openGame("Billionare");
          });
        }
        // Save state to parent
        try {
          if (window.parent) {
            console.log("Saving state to parent");
            window.parent.localStorage.setItem(
              "currentPage",
              "public/Games.html",
            );
            window.parent.localStorage.setItem("welcomeHidden", "true");
          }
        } catch (e) {
          console.log("Could not save to parent:", e);
        }
      });
    </script>
  </body>
</html>
